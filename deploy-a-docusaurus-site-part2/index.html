<!doctype html>
<html lang="zh" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="search" type="application/opensearchdescription+xml" title="老方的站" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="老方 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="老方 Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="老方 JSON Feed">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?c9a3849aa75f9c4a4e65f846cd1a5155",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.defer=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script>
<link rel="preconnect" href="https://matomo.kuizuo.cn/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://matomo.kuizuo.cn/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>


<link rel="icon" href="/img/logo.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)"><title data-rh="true">使用 Docusaurus 搭建个人博客教程（二） - 老方的站</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kuizuo.cn/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://kuizuo.cn/img/logo.png"><meta data-rh="true" property="og:url" content="https://kuizuo.cn/deploy-a-docusaurus-site-part2"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="keywords" content="老方, kuizuo, blog, javascript, typescript, golong ,node, react, vue, web, 前端, 后端"><meta data-rh="true" property="og:title" content="使用 Docusaurus 搭建个人博客教程（二） - 老方的站"><meta data-rh="true" property="og:title" content="使用 Docusaurus 搭建个人博客教程（二）"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2020-03-08T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/MISfang"><meta data-rh="true" property="article:tag" content="前端,职业"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kuizuo.cn/deploy-a-docusaurus-site-part2"><link data-rh="true" rel="alternate" href="https://kuizuo.cn/deploy-a-docusaurus-site-part2" hreflang="zh"><link data-rh="true" rel="alternate" href="https://kuizuo.cn/deploy-a-docusaurus-site-part2" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GV6YN1ODMO-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.384d1d82.css">
<link rel="preload" href="/assets/js/runtime~main.0b7c7be1.js" as="script">
<link rel="preload" href="/assets/js/main.bd63b215.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="announcementBarContent_xLdY">前端菜鸟，秋招求捞（狗头）</div><button type="button" class="clean-btn close announcementBarClose_gvF7" aria-label="关闭"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="隔壁老方" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="隔壁老方" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">隔壁老方</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/tags">标签</a><a class="navbar__item navbar__link" href="/archive">时间线</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">学习</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/skill/">技术笔记</a></li><li><a class="dropdown__link" href="/docs/tools/">工具推荐</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">工具收集</a><ul class="dropdown__menu"><li><a href="https://shadows.brumm.af/" target="_blank" rel="noopener noreferrer" class="dropdown__link">css阴影样式生成器</a></li><li><a href="https://cssgrid-generator.netlify.app/" target="_blank" rel="noopener noreferrer" class="dropdown__link">grid布局生产器</a></li><li><a href="https://svgwave.in/" target="_blank" rel="noopener noreferrer" class="dropdown__link">波浪纹背景生产器</a></li><li><a href="https://animista.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">animista动画库</a></li></ul></div><a class="navbar__item navbar__link" href="/website">导航</a><a class="navbar__item navbar__link" href="/project">个人项目</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="http://schema.org/Blog"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><style data-emotion="css 18fmlyt">.css-18fmlyt{margin-top:0em;margin-bottom:1.5em;border-radius:var(--ifm-pagination-nav-border-radius);margin-top:0;margin-bottom:-2em;}@media (max-width: 570px){.css-18fmlyt .blog__readingTime{display:none;}.css-18fmlyt .blog__author{display:none;}}.css-18fmlyt article .single-post--date{color:var(--ifm-color-primary);font-size:0.9em;}.css-18fmlyt article >header >h1{font-size:2em;}@media (max-width: 570px){.css-18fmlyt article >header >h1{font-size:1.6em;text-align:center;}}.css-18fmlyt article >header >h2{font-size:1.6em;font-family:var(--ifm-heading-font-family);margin-bottom:10px!important;}.css-18fmlyt article >header >h2 a{color:var(--ifm-heading-color);}.css-18fmlyt article >header >h2 a:hover{-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 570px){.css-18fmlyt article >header >h2{font-size:1.7em;}}.css-18fmlyt article >header >div>time{color:var(--post-pub-date-color);}.css-18fmlyt article .markdown p,.css-18fmlyt article .markdown ul{font-family:var(--content-font-family);}.css-18fmlyt .blog-list--item{border-radius:12px;background:var(--blog-item-background-color);box-shadow:var(--blog-item-shadow);padding:1em 1em;position:relative;}.css-18fmlyt .testt{position:absolute;font-size:12vw;color:#c8a3ff;}.css-18fmlyt .post__tags{opacity:0.8;}.css-18fmlyt hr{background-color:#eaecef;border:0;height:var(--ifm-hr-height);margin:0.25rem 0;}</style><div class="css-18fmlyt e187e1v40"><div class="row"><div class="col col--12 article__details"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 itemprop="headline">使用 Docusaurus 搭建个人博客教程（二）</h1><div class="blogPostInfo_fosd"><time datetime="2020-03-08T00:00:00.000Z" class="blogPostDate_Ocfp" itemprop="datePublished">2020年3月8日<!-- --> · <!-- -->9 分钟阅读<!-- --> </time></div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_KNI9"><div class="avatar margin-bottom--sm"><a href="https://github.com/MISfang" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_xS9F" src="https://tvax3.sinaimg.cn/crop.0.0.1080.1080.180/b2745d44ly8g8s4muqeggj20u00u0n0k.jpg?KID=imgbed,tva&amp;Expires=1582389585&amp;ssig=EvXmyu%2FXsX" alt="方宇龙"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/MISfang" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">方宇龙</span></a></div><small class="avatar__subtitle" itemprop="description">前端工程师</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>如果你看了上期视频的话，那么你应该学会了怎么在本地搭建一个 docusaurus 博客，但是你不能只在本地来看这个博客吧，得让全世界来欣赏你的杰作，所以说咱们得把这个博客部署到服务器上。部署有两种方式：</p><ul><li>部署到国外，是免费的。</li><li>部署在国内，需要自己购买一个域名，还有服务器，大概有个 300 来块钱就差不多了。</li></ul><p><a href="https://www.bilibili.com/video/av93748753/" target="_blank" rel="noopener noreferrer">B 站视频 - 点击传送</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="发布到-github">发布到 github<a class="hash-link" href="#发布到-github" title="标题的直接链接">​</a></h2><p>在发博客之前得先把项目发布到 github 上，这个之前我简单的介绍过，它就是一个远程的 git 的代码仓库，所有人都可以看到你的代码，还能一起维护。或者也可以把它当成私有的，这样的话可以当成自己的一个云端的代码仓库，作为代码的版本跟踪管理。</p><p>首先要在 github 上创建一个仓库，打开它的官网：</p><p><a href="https://github.com/" target="_blank" rel="noopener noreferrer">github</a></p><p>没有账号的话先去注册一个，有的话就直接登录，登录之后在自己的主页左边点击 <code>New</code> 这个按钮创建一个仓库，这里需要填一些信息：</p><ul><li><code>Repository Name</code> - 仓库的名字，必填的，比如我这里叫<code>fh-blog</code>。</li><li><code>Description</code> - 仓库的描述，这个是可选的，这里我写一个<code>我的博客</code>。</li><li>选择<code>私有</code>还是<code>公开</code> - 如果后边在 Zeit 上部署，这里选公开。</li><li>是不是添加<code>README</code> - 这里不添加了，因为咱们本地已经有了，另外<code>.gitignore</code>和<code>add a licence</code>也都不用添加。</li></ul><p>完了之后点击 <code>Create repository</code> 仓库创建好了。之后它会跳转到仓库的首页，下边写了两种方式把代码提交到 github，第一种是按全新的仓库，就是本地还没有的。咱们这里用第二种，把现有的代码推送到 github 上。具体操作：</p><ol><li>在 VS Code 里打开你的博客工程，点击菜单中第三个按钮 <code>source control</code>。</li><li>如果仓库还没有初始化的话，点击 <code>initialize repository</code> 按钮进行初始化。</li><li>在上边的 message 输入框中输入 commit 信息，比如说 <code>initial commit</code>，再点击上边的对勾提交代码。</li><li>按下键盘的 <code>command(Mac)/ctrl(Windows) + shift + p</code>， 打开快捷命令行工具，输入 <code>add remote</code>，在出来的提示中选择 <code>Git: Add Remote</code>。</li><li>给这个远程仓库的的 url 信息起个名字，一般叫做 <code>origin</code>，代表这是咱们项目的起源仓库。按下回车。</li><li>接下来要求输入仓库的 url，在里边贴上你的 github 仓库的 url, 比如 <code>https://github.com/MISfang/fh-blog.git</code>，然后按下回车。</li><li>添加好远程仓库之后，再点击 source control 中的 <code>...</code> 菜单，选择 push，等完成之后，再刷新一下 github 仓库，有了代码就代表推送成功了。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="部署">部署<a class="hash-link" href="#部署" title="标题的直接链接">​</a></h2><p>代码推送到 github 之后，就能愉快的部署到服务器上了。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="zeit">Zeit<a class="hash-link" href="#zeit" title="标题的直接链接">​</a></h3><p><a href="http://zeit.co/" target="_blank" rel="noopener noreferrer">Zeit</a></p><p>这里推荐给你一个比较好用的国外的服务器，配置超级简单，它叫 zeit，也是 docusaurus 官方推荐的，不过可能有些地方因为某些原因，会访问不了，或者非常慢。不过因为它太方便了，所以还是要介绍一下。它的免费版包括下边的特性：</p><ul><li><code>HTTPS-enabled Custom Domains</code> - 可以自动给自定义域名添加 https 支持</li><li><code>Continuous Deployment with Git</code> - 能够利用 git 进行持续集成</li><li><code>High-performance Smart CDN</code> - 高性能的智能 CDN</li><li><code>Unlimited Websites &amp; APIs</code> - 支持创建无数个网站和 api</li><li><code>Serverless Functions in Node.js, Go, and more</code> - 支持使用 Node.js 和 Go 语言等创建无服务的函数。</li></ul><p>接下来注册一个账号，根据它的要求完成之后就可以开始部署了。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="发布到-zeit">发布到 zeit<a class="hash-link" href="#发布到-zeit" title="标题的直接链接">​</a></h4><p>要发布到 zeit 上,首先安装它的命令行工具：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#e6db74">npm</span><span class="token plain"> i -g now</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>接下来在 VS Code 中打开一个命令行窗口，用快捷键 ctrl + `, 默认的路径就是当前工程的根目录，输入命令：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">now</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>它会要求一些信息，比如用注册邮箱接收一个验证码，项目名称，配置信息。等它运行完毕之后，项目就可以部署到 zeit 上了。去 zeit 官网，可以看到它自动关联了 github 的项目，也可以看到它给咱们生成的域名，点开它就可以访问了，如果要添加自定义的域名，就点开 <code>domains</code> 菜单，点击 <code>add</code>，选择一个部署的项目，再点 <code>continue</code>，输入自己的域名，点击 <code>Add</code> 就可以添加了，最后要把域名的 DNS 指向 zeit 提供的那几个。怎么修改域名 DNS 我稍后会讲，不同的域名提供商也有不同的操作。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="部署到国内">部署到国内<a class="hash-link" href="#部署到国内" title="标题的直接链接">​</a></h3><p>Zeit 可能在国内某些地方访问不太稳定，那咱们可以部署在国内服务器上。之前在前端路线图的视频里我大致讲过了域名和服务器的概念，要部署咱们的网站，就需要购买一个域名和一台服务器，因为咱们这个网站是静态的，不需要太过复杂的功能，所以服务器用一台虚拟主机就可以了，虚拟主机是一台服务器里边，分隔出来了不同的目录给不同的用户，所有的这一台服务器上的用户都共享它的 cpu、内存等资源，然后有固定的带宽、存储容量还有数据库等等。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="购买域名">购买域名<a class="hash-link" href="#购买域名" title="标题的直接链接">​</a></h4><p>这里以阿里云为示例，打开它的<a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer">官网 https://www.aliyun.com/</a>，在搜索框上边选择域名，然后输入一个自己想要的域名，比如 <code>fhdev</code>，再选择一个可用的域名，加入到清单中，完成之后点击立即结算，选择年限，添加实名信息之后，付款购买就可以了。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="购买服务器">购买服务器<a class="hash-link" href="#购买服务器" title="标题的直接链接">​</a></h4><p>服务器用共享的虚拟主机即可，<a href="https://wanwang.aliyun.com/hosting/vhost-buy/?spm=5176.8060947.858675.gaongxiang1.a5305c71VGo8vo&amp;productId=38001&amp;cdn=t" target="_blank" rel="noopener noreferrer">点击传送</a>，新用户的话可以选择云虚拟主机，可能会有优惠。操作系统选择 <code>linux</code>，然后选择购买时长，最后购买就可以了。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="备案">备案<a class="hash-link" href="#备案" title="标题的直接链接">​</a></h4><p>在阿里云买了服务器之后，它就提供备案服务了，可以点击右上角备案菜单，根据提示进行备案，用手机备案填写资料会更快一些。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="配置主机和域名">配置主机和域名<a class="hash-link" href="#配置主机和域名" title="标题的直接链接">​</a></h4><p>登录到阿里云的控制台，在左侧折叠菜单里选择云虚拟主机，就能看到你购买的虚拟主机了，点击它右边的<code>管理</code>菜单，就可以看到它的信息了，这里要把域名指向这台虚拟主机，下边它有网站开通参考，大家可以自己看一下操作。这里我点击左侧菜单的主机信息，找到它的 IP 地址，复制它，返回到控制台，在菜单中选择<code>域名</code>，找到刚才购买的域名，点击管理。</p><p>这里提一下，如果要把 DNS 指向 zeit 提供的，那就在菜单选择 <code>DNS修改</code>，再点击右侧 <code>修改DNS服务器</code>，把 zeit 提供的 dns 地址一项一项填进去。</p><p>解析到自己的服务器上的话，可以直接就用阿里云默认的 dns 就可以了，然后在菜单项里选择<code>域名解析</code>，点开之后点击<code>添加记录</code>，记录类型选择 A 记录，A 记录就是说这个域名要解析到一个 ip 地址上边，这里咱们有虚拟主机的 IP 地址，所以选择<code>A</code>，主机记录填写<code>@</code>，这个意思是访问根域名时对应的 ip，也就是说不带<code>www</code>这个前缀的，比如<code>zxuqian.cn</code>，然后解析线路保持默认就好，记录值把刚复制的 ip 地址粘贴上就可以了，然后点击确定。</p><p>再添加一条，这里主机记录填写<code>www</code>，其它的跟<code>@</code>的一致，这个就是访问 <code>www.zxuqian.cn</code> 这个域名时，指向的 IP 地址，跟<code>@</code>记录是一样的。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="配置-github-actions">配置 github actions<a class="hash-link" href="#配置-github-actions" title="标题的直接链接">​</a></h4><p>接下来就是上传网站文件到服务器上就行了，可以使用 ftp 工具，比如 FileZilla，不过这样每次写完博客之后都要手动再上传一次网站文件，比较麻烦，这里可以利用一下 github actions 这个持续集成工具。在项目的根目录下创建 <code>.github/workflows</code> 这样层级的文件夹，然后在里边创建<code>nodejs.yml</code>文件，里边写上下边的代码：</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token key atrule">name</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> Node.js CI</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token key atrule">on</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain">push</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token key atrule">jobs</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token key atrule">build</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token key atrule">runs-on</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token key atrule">strategy</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token key atrule">matrix</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token key atrule">node-version</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain">12.x</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token key atrule">steps</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> actions/checkout@v2</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> Use Node.js $</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> matrix.node</span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain">version </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain">node@v1</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token key atrule">node-version</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> matrix.node</span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain">version </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> </span><span class="token key atrule">run</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> npm install</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> </span><span class="token key atrule">run</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> npm run build </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain">if</span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain">present</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> FTP Deploy</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> SamKirkland/FTP</span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain">Deploy</span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain">Action@3.0.0</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token key atrule">ftp-server</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> 你的虚拟主机 FTP 上传地址/ftp 目录</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token key atrule">ftp-username</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> secrets.ftp_user </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token key atrule">ftp-password</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> secrets.ftp_pwd </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token key atrule">local-dir</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> build/</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token key atrule">env</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token key atrule">CI</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#ae81ff">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这个文件是告诉 github actions，这个项目在 Node.js 12 版本，unbuntu 最新版本下，运行下边的命令：</p><ul><li>npm install - 安装依赖库</li><li>npm run build - 打包项目为静态网站</li><li>FTP Deploy，发布到 FTP 服务器上。</li></ul><p>这里发布 FTP 的时候，需要几个参数：</p><ul><li>ftp-server - 你的虚拟主机 FTP 上传地址，比如<code>ftp://byu*********.my3w.com/htdocs</code>。</li><li>ftp-username - ftp 用户名。</li><li>ftp-password - ftp 密码，这些是私密信息，所以用了 github 的私有环境变量，稍后再讲怎么配置。</li><li>local-dir - 上传哪个目录。</li></ul><p>需要注意的是，因为咱们上传到 github 上的代码不包括<code>build</code>文件夹，所以，需要把 github actions 运行之后生成的 build 文件夹上传到服务器，这里在项目的根目录里，添加一个 <code>.git-ftp-include</code> 文件，写上：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">!build/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>意思就是把 <code>npm run build</code> 之后生成的 build 目录上传到服务器中。</p><p><code>ftp-password</code> 这种机密信息的设置方法是：</p><ol><li>打开仓库的首页，点击<code>settings</code>。</li><li>在左边的菜单选择<code>Secretes</code>。</li><li>点击<code>Add a new secret</code>。</li><li>在<code>name</code>处输入变量的名字。</li><li>在<code>value</code>处输入变量的值。</li></ol><p>最后点击<code>Add secret</code>按钮添加就可以了。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="发布博客">发布博客<a class="hash-link" href="#发布博客" title="标题的直接链接">​</a></h4><p>在把所有的这些文件弄好之后，把代码推送到 github 上等 github actions 运行完之后，就可以访问自己的网站了。以后再发表文章，只需要在本地写好之后，推送到 github 上完事儿了。到这里你自己的博客就搭建好了，向全世界展示你的文采吧！</p></div><footer class="row margin-top--lg blogPostDetailsFull_enUA"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/前端">前端</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/职业">职业</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/kuizuo/blog/edit/main/blog/develop/2020-03-08-deploy-a-docusaurus-site-part2.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div></footer></article></div></div></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/React-intro"><div class="pagination-nav__sublabel">较新一篇</div><div class="pagination-nav__label">什么是 React？你为什么应该学React？</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/deploy-a-docusaurus-site"><div class="pagination-nav__sublabel">较旧一篇</div><div class="pagination-nav__label">使用 Docusaurus 搭建个人博客教程（一）</div></a></nav><div></div></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#发布到-github" class="table-of-contents__link toc-highlight">发布到 github</a></li><li><a href="#部署" class="table-of-contents__link toc-highlight">部署</a><ul><li><a href="#zeit" class="table-of-contents__link toc-highlight">Zeit</a><ul><li><a href="#发布到-zeit" class="table-of-contents__link toc-highlight">发布到 zeit</a></li></ul></li><li><a href="#部署到国内" class="table-of-contents__link toc-highlight">部署到国内</a><ul><li><a href="#购买域名" class="table-of-contents__link toc-highlight">购买域名</a></li><li><a href="#购买服务器" class="table-of-contents__link toc-highlight">购买服务器</a></li><li><a href="#备案" class="table-of-contents__link toc-highlight">备案</a></li><li><a href="#配置主机和域名" class="table-of-contents__link toc-highlight">配置主机和域名</a></li><li><a href="#配置-github-actions" class="table-of-contents__link toc-highlight">配置 github actions</a></li><li><a href="#发布博客" class="table-of-contents__link toc-highlight">发布博客</a></li></ul></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">学习</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/#homepage_blogs">技术博客</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/skill">技术笔记</a></li><li class="footer__item"><a class="footer__link-item" href="/project">实战项目</a></li></ul></div><div class="col footer__col"><div class="footer__title">社交媒体</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">首页</a></li><li class="footer__item"><a class="footer__link-item" href="/about">关于我</a></li><li class="footer__item"><a href="https://github.com/MISfang" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/user/157950962044584" target="_blank" rel="noopener noreferrer" class="footer__link-item">掘金<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="right" href="/friends">友链</a></li><li class="footer__item"><a class="footer__link-item" position="right" href="/website">导航</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 隔壁老方 Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0b7c7be1.js"></script>
<script src="/assets/js/main.bd63b215.js"></script>
</body>
</html>